﻿﻿﻿# Linux 安装ssh以及ssh用法与免密登录原文链接：[https://www.cnblogs.com/xiaoaofengyue/p/8080639.html](https://www.cnblogs.com/xiaoaofengyue/p/8080639.html)---### 一、配置yum和hosts文件配置hosts文件：```vi /etc/hosts```在文件尾部添加```192.168.1.106 linux1192.168.1.107 linux2192.168.1.108 linux3192.168.1.109 linux4```### 二、什么是ssh管理员可以通过远程登陆的方式，对通过网相连的分散于各处的多台主机进行管理操作。管理员可以对远程主机进行如下操作：- 远程登陆- 远程命令执行- 远程文件传输遗憾的事情是：这些操作不安全！使用纯文本口令，并用明文发送- 信息可能会被截取，口令可能会被检索- 未经授权的人员使用截取的口令登陆系统而对系统造成危害SSH的目标- 在不安全的网络上提供安全的网络服务。### 三、安装命令```　　yum  install -y openssh-server openssh-clients```　　启动ssh：```　　service sshd start 或 /etc/init.d/sshd start```　　配置开机启动：```　　chkconfig --level 2345 sshd on```### 四、ssh免密登录　　ssh-keygen的命令手册，通过”man ssh-keygen“命令：##### 1.生成秘钥```　　ssh-keygen -t rsa```　　生成之后会在用户的根目录生成一个 “.ssh”的文件夹。　　进入“.ssh”会生成以下几个文件：- authorized_keys:存放远程免密登录的公钥,主要通过这个文件记录多台机器的公钥- id_rsa : 生成的私钥文件- id_rsa.pub ： 生成的公钥文件- know_hosts : 已知的主机公钥清单　　如果希望ssh公钥生效需满足至少下面两个条件：-  .ssh目录的权限必须是700 -  .ssh/authorized_keys文件权限必须是600##### 2.免密登录方法2.1 通过ssh-copy-id的方式``` ssh-copy-id -i ~/.ssh/id_rsa.put [ip/hosts]```2.2　通过scp将内容写到对方的文件中```scp -p ~/.ssh/id_rsa.pub root@<remote_ip>:/root/.ssh/authorized_keys```### 五、ssh用法1.ssh登录另一台linux```ssh [ip/hosts]```退出登录:```exit```2.复制文件　　语法：　　`scp  要复制的文件名（相对或绝对路径） 要复制到的那一台机器的ip:/path`3.复制文件夹　　语法：　　`scp  –r 文件夹 username@ip/hosts:/path` 　　